<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.38">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" href="/interview-questions/imgs/favicon.ico"><title>ES6 | 前端知识点</title><meta name="description" content="前端知识点整理">
    <link rel="modulepreload" href="/interview-questions/assets/app.612ec7ad.js"><link rel="modulepreload" href="/interview-questions/assets/es6.html.b08b1f0e.js"><link rel="modulepreload" href="/interview-questions/assets/es6.html.3790151e.js">
    <link rel="stylesheet" href="/interview-questions/assets/style.23fbbacf.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/interview-questions/" class=""><img class="logo" src="/interview-questions/imgs/logo.svg" alt="前端知识点"><span class="site-name can-hide">前端知识点</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/interview-questions/base/" class="router-link-active" aria-label="🪛 前端基础"><!--[--><!--]--> 🪛 前端基础 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/interview-questions/senior/" class="" aria-label="🪜 前端进阶"><!--[--><!--]--> 🪜 前端进阶 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/interview-questions/skill/" class="" aria-label="🗡️ 学习 / 面试技巧"><!--[--><!--]--> 🗡️ 学习 / 面试技巧 <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/RhysZhao/interview-questions" rel="noopener noreferrer" target="_blank" aria-label="点亮⭐收藏"><!--[--><!--]--> 点亮⭐收藏 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-dark-button" title="toggle dark mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" placeholder="Search" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/interview-questions/base/" class="router-link-active" aria-label="🪛 前端基础"><!--[--><!--]--> 🪛 前端基础 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/interview-questions/senior/" class="" aria-label="🪜 前端进阶"><!--[--><!--]--> 🪜 前端进阶 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/interview-questions/skill/" class="" aria-label="🗡️ 学习 / 面试技巧"><!--[--><!--]--> 🗡️ 学习 / 面试技巧 <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/RhysZhao/interview-questions" rel="noopener noreferrer" target="_blank" aria-label="点亮⭐收藏"><!--[--><!--]--> 点亮⭐收藏 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading active">前端基础 <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/interview-questions/base/" class="router-link-active sidebar-item" aria-label="前言"><!--[--><!--]--> 前言 <!--[--><!--]--></a><!----></li><li><a href="/interview-questions/base/js.html" class="sidebar-item" aria-label="JavaScript"><!--[--><!--]--> JavaScript <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/interview-questions/base/es6.html" class="router-link-active router-link-exact-active router-link-active sidebar-item active" aria-label="ES6"><!--[--><!--]--> ES6 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/interview-questions/base/es6.html#_1-说说-var、let、const-之间的区别" class="router-link-active router-link-exact-active sidebar-item" aria-label="1. 说说 var、let、const 之间的区别"><!--[--><!--]--> 1. 说说 var、let、const 之间的区别 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/interview-questions/base/es6.html#_2-es6-中新增的-set、map-两种数据结构怎么理解" class="router-link-active router-link-exact-active sidebar-item" aria-label="2. ES6 中新增的 Set、Map 两种数据结构怎么理解?"><!--[--><!--]--> 2. ES6 中新增的 Set、Map 两种数据结构怎么理解? <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/interview-questions/base/es6.html#_3-map-和-object-的区别" class="router-link-active router-link-exact-active sidebar-item" aria-label="3. Map 和 Object 的区别？"><!--[--><!--]--> 3. Map 和 Object 的区别？ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/interview-questions/base/es6.html#_4-你是怎么理解-es6-中-promise-的-使用场景" class="router-link-active router-link-exact-active sidebar-item" aria-label="4. 你是怎么理解 ES6 中 Promise 的？使用场景？"><!--[--><!--]--> 4. 你是怎么理解 ES6 中 Promise 的？使用场景？ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/interview-questions/base/es6.html#_5-怎么理解-es6-中-generator-的-使用场景" class="router-link-active router-link-exact-active sidebar-item" aria-label="5. 怎么理解 ES6 中 Generator 的？使用场景？"><!--[--><!--]--> 5. 怎么理解 ES6 中 Generator 的？使用场景？ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/interview-questions/base/es6.html#_6-promise、generator、async-await-比较" class="router-link-active router-link-exact-active sidebar-item" aria-label="6. promise、Generator、async/await 比较"><!--[--><!--]--> 6. promise、Generator、async/await 比较 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/interview-questions/base/es6.html#_7-你是怎么理解-es6-中-proxy-的-使用场景" class="router-link-active router-link-exact-active sidebar-item" aria-label="7. 你是怎么理解 ES6 中 Proxy 的？使用场景?"><!--[--><!--]--> 7. 你是怎么理解 ES6 中 Proxy 的？使用场景? <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/interview-questions/base/es6.html#_8-你是怎么理解-es6-中-decorator-的-使用场景" class="router-link-active router-link-exact-active sidebar-item" aria-label="8. 你是怎么理解 ES6 中 Decorator 的？使用场景？"><!--[--><!--]--> 8. 你是怎么理解 ES6 中 Decorator 的？使用场景？ <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/interview-questions/base/css.html" class="sidebar-item" aria-label="CSS"><!--[--><!--]--> CSS <!--[--><!--]--></a><!----></li><li><a href="/interview-questions/base/http.html" class="sidebar-item" aria-label="HTTP"><!--[--><!--]--> HTTP <!--[--><!--]--></a><!----></li><li><a href="/interview-questions/base/react.html" class="sidebar-item" aria-label="React"><!--[--><!--]--> React <!--[--><!--]--></a><!----></li><li><a href="/interview-questions/base/webpack.html" class="sidebar-item" aria-label="Webpack"><!--[--><!--]--> Webpack <!--[--><!--]--></a><!----></li><li><a href="/interview-questions/base/design-mode.html" class="sidebar-item" aria-label="设计模式"><!--[--><!--]--> 设计模式 <!--[--><!--]--></a><!----></li><li><a href="/interview-questions/base/git.html" class="sidebar-item" aria-label="git"><!--[--><!--]--> git <!--[--><!--]--></a><!----></li><li><a href="/interview-questions/base/algorithm.html" class="sidebar-item" aria-label="算法"><!--[--><!--]--> 算法 <!--[--><!--]--></a><!----></li><li><a href="/interview-questions/base/code.html" class="sidebar-item" aria-label="手写题"><!--[--><!--]--> 手写题 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h1 id="es6" tabindex="-1"><a class="header-anchor" href="#es6" aria-hidden="true">#</a> ES6</h1><h2 id="_1-说说-var、let、const-之间的区别" tabindex="-1"><a class="header-anchor" href="#_1-说说-var、let、const-之间的区别" aria-hidden="true">#</a> 1. 说说 var、let、const 之间的区别</h2><p>var let const 都是用来声明变量。</p><p>不同的是，var 只有全局作用于和函数作用域。存在变量提升并可以重复声明变量。</p><p>而 let 与 const 则会形成块级作用域。不存在变量提升，更不能重复声明。const 用来修饰常量。</p><p>变量提升：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>foo<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// foo() { console.log(1); }</span>
<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> <span class="token function-variable function">foo</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> foo <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="_2-es6-中新增的-set、map-两种数据结构怎么理解" tabindex="-1"><a class="header-anchor" href="#_2-es6-中新增的-set、map-两种数据结构怎么理解" aria-hidden="true">#</a> 2. ES6 中新增的 Set、Map 两种数据结构怎么理解?</h2><p>在 ES6 中，Set 和 Map 是两种新增的数据结构，它们分别对应着数学中的<strong>集合</strong>和<strong>映射</strong>的概念。</p><p>Set 是一种<strong>无序、不重复</strong>的集合，可以用来存储任何类型的值，它的主要特点如下：</p><ul><li>Set 中的值不会重复，如果添加重复的值，只会保留一个；</li><li>Set 中的值是无序的，不会按照添加顺序进行排序；</li><li>Set 可以存储任何类型的值，包括原始类型和对象类型；</li><li>Set 的大小可以动态改变，可以添加、删除、查询集合中的值。</li></ul><p>Map 是一种<strong>键值对</strong>的映射表，可以用来存储任何类型的键和值，它的主要特点如下：</p><ul><li>Map 中的键是唯一的，如果添加重复的键，后面的值会覆盖前面的值；</li><li>Map 中的键和值可以是任何类型，包括原始类型和对象类型；</li><li>Map 的大小可以动态改变，可以添加、删除、查询映射表中的键值对；</li><li>Map 中的键值对是有序的，可以按照添加顺序进行遍历。</li></ul><p>Set 和 Map 都提供了丰富的操作方法，例如添加、删除、查询等方法，同时它们也都具有迭代器，可以通过迭代器对集合或映射表进行遍历。在实际开发中，Set 和 Map 都可以用来解决一些常见的问题，例如去重、查找、缓存等。</p><h2 id="_3-map-和-object-的区别" tabindex="-1"><a class="header-anchor" href="#_3-map-和-object-的区别" aria-hidden="true">#</a> 3. Map 和 Object 的区别？</h2><p>JavaScript 中的 Map 和 Object 都是用来存储键值对的数据结构，但是它们有一些区别。</p><ol><li><p>键类型：Object 的键必须是字符串或者 Symbol，而 Map 的键可以是任何类型，包括函数、对象和基本类型。</p></li><li><p>大小：Object 的大小是不确定的，而 Map 的大小可以通过 size 属性得到。</p></li><li><p>迭代：Map 有一个 forEach 方法用来遍历所有的键值对，而 Object 需要使用 for...in 或 Object.keys()方法进行遍历。</p></li><li><p>命名冲突：由于 Object 的键必须是字符串或 Symbol 类型，如果两个属性使用相同的键名，后面的属性会覆盖前面的属性。而在 Map 中，不同类型的键可以使用相同的值而不会发生冲突。</p></li><li><p>内存：Object 是 JavaScript 中最基本的数据结构之一，因此通常比 Map 更快。但是，当需要存储大量的键值对时，Map 的内存使用更有效率。</p></li></ol><p>总的来说，如果需要存储任意类型的键和值，并且需要快速的遍历和修改键值对，那么使用 Map 更为合适。如果只需要存储简单的键值对，并且需要使用点操作符来访问属性，那么 Object 更适合。</p><h2 id="_4-你是怎么理解-es6-中-promise-的-使用场景" tabindex="-1"><a class="header-anchor" href="#_4-你是怎么理解-es6-中-promise-的-使用场景" aria-hidden="true">#</a> 4. 你是怎么理解 ES6 中 Promise 的？使用场景？</h2><p>Promise 是异步编程的一种解决方案。常用来封装一个异步操作并获取其结果。跟回调函数比，有着明显的优势：</p><ol><li>链式调用，解决了回调地狱</li><li>可以在 then 中指定回调，而不是在异步操作执行前指定回调</li></ol><p>有三种状态：pending, resolved, rejected。</p><ol><li>对象的状态不受外界影响，只有异步操作的结果，可以决定当前是哪一种状态。</li><li>一旦状态改变（从 pending 变为 fulfilled 和从 pending 变为 rejected），就不会再变，任何时候都可以得到这个结果</li></ol><p>异常穿透：异常会一直向后传递，直到捕获为止。</p><p>最常用的就是封装 ajax 请求，我们常用的 axios 库就是基于 Promise 封装的 ajax</p><h2 id="_5-怎么理解-es6-中-generator-的-使用场景" tabindex="-1"><a class="header-anchor" href="#_5-怎么理解-es6-中-generator-的-使用场景" aria-hidden="true">#</a> 5. 怎么理解 ES6 中 Generator 的？使用场景？</h2><p>一个 Generator 函数如下：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">gen</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">yield</span> <span class="token string">&#39;hello&#39;</span><span class="token punctuation">;</span>
  <span class="token keyword">yield</span> <span class="token string">&#39;world&#39;</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token string">&#39;ok&#39;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> g <span class="token operator">=</span> <span class="token function">gen</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>g<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// {value: &#39;hello&#39;, done: false}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>g<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// {value: &#39;world&#39;, done: false}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>g<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// {value: &#39;ok&#39;, done: true}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>g<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// {value: undefined, done: true}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>其中, yield 表达式可以暂停函数执行，next 方法用于恢复函数执行</p><p>Generator 函数会返回一个迭代器对象，所以可以使用 for...of 遍历：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">gen</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">yield</span> <span class="token string">&#39;hello&#39;</span><span class="token punctuation">;</span>
  <span class="token keyword">yield</span> <span class="token string">&#39;world&#39;</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token string">&#39;ok&#39;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> g <span class="token operator">=</span> <span class="token function">gen</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token keyword">of</span> g<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// hello world</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h2 id="_6-promise、generator、async-await-比较" tabindex="-1"><a class="header-anchor" href="#_6-promise、generator、async-await-比较" aria-hidden="true">#</a> 6. promise、Generator、async/await 比较</h2><p>promise 和 async/await 是专门用于处理异步操作的</p><p>Generator 并不是为异步而设计出来的，它还有其他功能（对象迭代、控制输出、部署 Interator 接口...）</p><p>promise 编写代码相比 Generator、async 更为复杂化，且可读性也稍差</p><p>Generator、async 需要与 promise 对象搭配处理异步情况</p><p>async 实质是 Generator 的语法糖，相当于会自动执行 Generator 函数</p><p>async 使用上更为简洁，将异步代码以同步的形式进行编写，是处理异步编程的最终方案</p><h2 id="_7-你是怎么理解-es6-中-proxy-的-使用场景" tabindex="-1"><a class="header-anchor" href="#_7-你是怎么理解-es6-中-proxy-的-使用场景" aria-hidden="true">#</a> 7. 你是怎么理解 ES6 中 Proxy 的？使用场景?</h2><p>Proxy 其功能非常类似于设计模式中的代理模式，常用功能如下：</p><ol><li>拦截和监视外部对对象的访问</li><li>降低函数或类的复杂度</li><li>在复杂操作前对操作进行校验或对所需资源进行管理</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;jack&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> proxyPerson <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>person<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">get</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> propKey</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;-- 拦截操作 --&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> Reflect<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> propKey<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>proxy<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// -- 拦截操作 --  18</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h2 id="_8-你是怎么理解-es6-中-decorator-的-使用场景" tabindex="-1"><a class="header-anchor" href="#_8-你是怎么理解-es6-中-decorator-的-使用场景" aria-hidden="true">#</a> 8. 你是怎么理解 ES6 中 Decorator 的？使用场景？</h2><p>Decorator 类似设计模式中的装饰器模式。本质就是用来扩展类或者类的属性和方法。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>@decorator
<span class="token keyword">class</span> <span class="token class-name">A</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token comment">// 等同于</span>

<span class="token keyword">class</span> <span class="token class-name">A</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token constant">A</span> <span class="token operator">=</span> <span class="token function">decorator</span><span class="token punctuation">(</span><span class="token constant">A</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token constant">A</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>如果一个方法有多个装饰器，就像洋葱一样，先从外到内进入，再由内到外执行</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">dec</span><span class="token punctuation">(</span><span class="token parameter">id</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;evaluated&#39;</span><span class="token punctuation">,</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> property<span class="token punctuation">,</span> descriptor</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;executed&#39;</span><span class="token punctuation">,</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Example</span> <span class="token punctuation">{</span>
  @<span class="token function">dec</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
  @<span class="token function">dec</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
  <span class="token function">method</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// evaluated 1</span>
<span class="token comment">// evaluated 2</span>
<span class="token comment">// executed 2</span>
<span class="token comment">// executed 1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>需要注意的是，装饰器不能用于修饰函数，因为存在函数提升情况。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> counter <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> <span class="token function-variable function">add</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  counter<span class="token operator">++</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
@add
<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>上面的代码，意图是执行后 counter 等于 1，但是实际上结果是 counter 等于 0。因为函数提升，使得实际执行的代码是下面这样。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>@add
<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">var</span> counter<span class="token punctuation">;</span>
<span class="token keyword">var</span> add<span class="token punctuation">;</span>
counter <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token function-variable function">add</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  counter<span class="token operator">++</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="external-link meta-item-label" href="https://github.com/RhysZhao/interview-questions/edit/main/docs/base/es6.md" rel="noopener noreferrer" target="_blank" aria-label="为该章节纠错"><!--[--><!--]--> 为该章节纠错 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: rhys.zhao@cloudwise.com">rhys.zhao</span><!----><!--]--><!--]--></span></div></footer><nav class="page-nav"><p class="inner"><span class="prev"><a href="/interview-questions/base/js.html" class="" aria-label="JavaScript"><!--[--><!--]--> JavaScript <!--[--><!--]--></a></span><span class="next"><a href="/interview-questions/base/css.html" class="" aria-label="CSS"><!--[--><!--]--> CSS <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/interview-questions/assets/app.612ec7ad.js" defer></script>
  </body>
</html>
