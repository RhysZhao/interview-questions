<!--
 * Author  rhys.zhao
 * Date  2023-01-24 09:48:49
 * LastEditors  rhys.zhao
 * LastEditTime  2023-04-18 18:42:33
 * Description
-->

# HTTP

## 1. 什么是 HTTP? HTTP 和 HTTPS 的区别?

HTTP 代表超文本传输协议（Hypertext Transfer Protocol），是一种用于在计算机网络上传输数据的协议。HTTP 使用客户端-服务器模型，其中客户端向服务器发送请求并从服务器接收响应。HTTP 被广泛用于互联网上的数据传输，例如在 Web 浏览器和服务器之间传输网页、图像、视频、音频和其他内容。

HTTPS 代表超文本传输安全协议（Hypertext Transfer Protocol Secure），是一种使用 TLS / SSL 加密技术对 HTTP 协议的安全版本。HTTPS 与 HTTP 的主要区别在于安全性：使用 HTTPS 时，所有传输的数据都是加密的，从而提供更高的安全性，使攻击者无法读取或修改传输的数据。在 Web 浏览器中，HTTPS 通常用于传输敏感信息，例如信用卡信息和登录凭据。

## 2. 为什么说 HTTPS 比 HTTP 安全? HTTPS 是如何保证安全的？

HTTPS 比 HTTP 更安全，因为它使用 SSL / TLS 协议来加密传输的数据。这种加密技术可以确保数据在传输过程中不被篡改、窃取或篡改。HTTP 协议是明文传输的，因此数据可以被黑客截取并窃听、篡改或伪造。这种风险可能会导致敏感信息泄露、账户被盗、恶意软件感染等安全问题。

HTTPS 使用加密技术确保数据的安全性，具体来说，HTTPS 的安全性基于以下方面：

1. 数字证书： HTTPS 使用数字证书来验证网站的身份。证书是由受信任的第三方机构颁发的，证明了网站的身份和所有者。这样，用户就可以知道他们正在与真实的网站进行通信，而不是恶意者伪造的网站。

2. 对称加密： HTTPS 使用对称加密算法，例如 AES 或 DES，以保护传输的数据。这种加密算法需要一个密钥，发送方和接收方都必须拥有这个密钥才能解密传输的数据。

3. 非对称加密： HTTPS 还使用非对称加密算法，例如 RSA，来协商对称加密密钥。非对称加密算法需要一对密钥：公钥和私钥。服务器将公钥提供给客户端，客户端使用公钥加密对称加密密钥并发送给服务器。服务器使用私钥解密密钥，然后使用该密钥加密传输的数据。

4. 安全协议： HTTPS 使用安全协议，例如 SSL 或 TLS，来确保数据在传输过程中不被篡改、窃取或篡改。这种协议使用上述的加密技术，并提供认证和完整性保护来保护数据。

总之，HTTPS 比 HTTP 更安全，因为它提供了更好的数据保护和身份验证，使得黑客更难攻击和窃取数据。

## 3. 如何理解 UDP 和 TCP? 区别? 应用场景?

UDP（User Datagram Protocol）和 TCP（Transmission Control Protocol）都是在网络上进行数据传输的协议，但它们有着不同的特点和应用场景。

1. UDP 协议

UDP 是一种面向无连接的协议，它不需要在发送数据之前先建立一个连接。它只是简单地将数据包从一个端点发送到另一个端点。UDP 不保证数据传输的可靠性和顺序，因此传输数据的过程中可能会出现数据丢失、重复、顺序错乱等问题。UDP 的应用场景包括：

- 实时传输：由于 UDP 没有重传机制，所以它适用于需要实时传输的应用，例如语音和视频流。
- 游戏：游戏通常需要快速的数据传输和低延迟，因此 UDP 常用于游戏服务器和客户端之间的通信。
- 广播和多播：UDP 支持广播和多播传输方式，适用于需要将相同数据发送给多个接收器的场景，例如视频会议、在线广播等。

2. TCP 协议

TCP 是一种面向连接的协议，它在发送数据之前必须先建立一个连接，然后再进行数据传输。TCP 提供了可靠的数据传输和顺序保证，因此它可以保证数据的完整性和准确性。TCP 的应用场景包括：

- 文件传输：TCP 适用于需要准确传输大量数据的场景，例如文件传输、邮件传输等。
- Web 浏览器：由于 Web 浏览器使用 HTTP 协议进行数据传输，而 HTTP 协议基于 TCP 协议，因此 TCP 是 Web 浏览器中最常用的协议之一。
- 邮件传输：SMTP、POP3 和 IMAP 协议都使用 TCP 协议进行数据传输。

总的来说，UDP 和 TCP 协议各自具有不同的特点和应用场景。UDP 适用于需要快速传输、实时性要求高的应用场景，而 TCP 适用于需要可靠传输和顺序保证的应用场景。

## 4. 如何理解 OSI 七层模型?

OSI 七层模型是一个概念性的框架，用于描述计算机网络中不同层次的协议和功能。该模型分为七层，每一层都有不同的功能和协议，它们共同工作以实现网络通信。

下面是对每一层的简要描述：

1. 物理层（Physical Layer）：这一层是计算机网络中最底层的层次，它定义了数据的物理传输方式，例如电缆、光纤等。

2. 数据链路层（Data Link Layer）：这一层负责将数据转换成适合物理层传输的形式，并提供了错误检测和纠正功能。

3. 网络层（Network Layer）：这一层负责为数据包选择最佳的路径，将数据包从发送方传输到接收方。

4. 传输层（Transport Layer）：这一层提供端到端的数据传输服务，并确保数据传输的可靠性和顺序。

5. 会话层（Session Layer）：这一层负责建立、管理和终止会话（或连接）。

6. 表示层（Presentation Layer）：这一层负责数据的格式化、编码和解码等操作，以确保数据在不同计算机之间的互通性。

7. 应用层（Application Layer）：这一层包含了用户最终访问的应用程序，例如 Web 浏览器、电子邮件客户端等。

在 OSI 七层模型中，每一层的功能都相对独立，并且可以被单独实现或替换。该模型有助于网络工程师更好地理解计算机网络的结构和工作方式，从而更好地设计、管理和维护网络。

## 5. 如何理解 TCP/IP 协议?

TCP/IP 协议是计算机网络中最重要的协议之一，它是 Internet 使用的基本协议。TCP/IP 协议提供了一种可靠的、端到端的数据传输方式，使得不同的计算机可以在网络上进行通信和数据交换。

TCP/IP 协议是由两个协议组成的：TCP（Transmission Control Protocol）和 IP（Internet Protocol）。TCP 协议提供了可靠的数据传输服务，确保数据的准确性、完整性和顺序性。IP 协议则负责将数据包从一个网络传输到另一个网络，它提供了一种简单的、无连接的服务。

TCP/IP 协议是一个分层协议，它由四个层次组成，分别是：

1. 应用层（Application Layer）：这一层包含了各种应用程序，例如 Web 浏览器、电子邮件客户端等。

2. 传输层（Transport Layer）：这一层负责提供可靠的数据传输服务，其中最重要的协议是 TCP 协议和 UDP 协议。

3. 网络层（Network Layer）：这一层负责将数据包从一个网络传输到另一个网络，其中最重要的协议是 IP 协议。

4. 数据链路层（Data Link Layer）：这一层负责将数据转换成适合物理层传输的形式，并提供了错误检测和纠正功能。

TCP/IP 协议的优点在于它是一种开放的、标准化的协议，被广泛地应用于 Internet 和各种局域网、广域网中。它不仅能够支持不同类型的计算机和操作系统，还可以支持各种不同的应用程序和服务。因此，理解和掌握 TCP/IP 协议对于计算机网络工程师和网络管理员来说是非常重要的。

## 6. DNS 协议 是什么？说说 DNS 完整的查询过程?

DNS（Domain Name System）是一种用于将域名转换为 IP 地址的协议，它是 Internet 中非常重要的基础设施之一。DNS 协议为 Internet 上的每个设备分配了唯一的 IP 地址，并提供了一种可靠的方式来将域名映射到相应的 IP 地址。

DNS 查询过程的完整过程如下：

1. 当用户在浏览器中输入一个 URL 时，浏览器首先检查本地缓存中是否有与该 URL 相关的 DNS 记录。如果有，浏览器将使用该记录，否则将向本地 DNS 服务器发出查询请求。

2. 如果本地 DNS 服务器中没有与 URL 相关的记录，则该服务器将向根域名服务器发出请求，以确定该 URL 所在的顶级域名服务器的 IP 地址。

3. 根域名服务器将回复本地 DNS 服务器，并告诉它该 URL 所在的顶级域名服务器的 IP 地址。

4. 本地 DNS 服务器将向顶级域名服务器发送查询请求，以获取与 URL 相关的权威域名服务器的 IP 地址。

5. 顶级域名服务器将回复本地 DNS 服务器，并告诉它权威域名服务器的 IP 地址。

6. 本地 DNS 服务器将向权威域名服务器发送查询请求，以获取与 URL 相关的 IP 地址。

7. 权威域名服务器将回复本地 DNS 服务器，并提供与 URL 相关的 IP 地址。

8. 本地 DNS 服务器将缓存与 URL 相关的 DNS 记录，并将该记录发送给浏览器。

9. 浏览器将使用该记录来建立与 Web 服务器的连接，并开始下载网页内容。

在整个 DNS 查询过程中，DNS 服务器之间进行了多次查询和回复。由于每个服务器只处理自己的一部分信息，因此整个过程非常快速和高效。DNS 协议的重要性在于它提供了一种可靠的方式来将域名映射到相应的 IP 地址，从而使得 Internet 中的各种应用程序和服务得以正常运行。

## 7. 如何理解 CDN？说说实现原理？

CDN（Content Delivery Network）即内容分发网络，是一种通过在全球多个地点部署缓存服务器，将静态或动态内容快速传输给用户的技术。CDN 可以有效地减少网络延迟和提高访问速度，提供更快、更可靠的服务。

CDN 的实现原理如下：

1. 首先，CDN 服务提供商将全球各地的服务器部署到一些重要的地点，这些服务器通常被称为边缘节点。

2. 当用户请求访问某个网站时，请求会首先被发送到最近的边缘节点，而不是直接发送到源站点。

3. 如果边缘节点上已经缓存了用户请求的内容，则直接将内容返回给用户，从而避免了从源站点获取内容的延迟和网络拥堵。

4. 如果边缘节点上没有缓存用户请求的内容，则边缘节点会将请求转发到源站点，然后将内容缓存到本地服务器上，以便以后更快地响应用户请求。

5. 在用户访问期间，CDN 会根据用户的位置和网络连接状况，选择最合适的边缘节点来提供服务。

6. 当源站点上的内容发生更改时，CDN 服务提供商会自动更新所有缓存的内容，以确保用户获取最新的内容。

CDN 的实现原理使得用户可以从最近的边缘节点获取内容，从而减少了延迟和网络拥堵。同时，CDN 还提供了多种优化技术，例如压缩、缓存、负载均衡等，从而进一步提高了访问速度和可靠性。

## 8. 说说 HTTP1.0/1.1/2.0 的区别?

HTTP（Hypertext Transfer Protocol）是一种应用层协议，用于在 Web 浏览器和 Web 服务器之间传输数据。HTTP 的发展经历了多个版本，其中最常用的版本是 HTTP 1.0、HTTP 1.1 和 HTTP 2.0。它们之间的主要区别如下：

1. 连接方式

在 HTTP 1.0 中，每个请求都需要建立一个新的 TCP 连接，请求完成后立即关闭连接。这种连接方式被称为“短连接”。

在 HTTP 1.1 中，支持使用“长连接”（keep-alive）方式，可以在同一个 TCP 连接上进行多次请求和响应，从而减少了 TCP 连接建立和关闭的开销。

在 HTTP 2.0 中，支持使用复用单一的 TCP 连接进行多个请求和响应，这样可以避免每个请求都需要建立和关闭 TCP 连接的开销。

2. 头部压缩

在 HTTP 1.0 和 HTTP 1.1 中，每个请求和响应的头部信息都需要发送到服务器和客户端。对于一些复杂的 Web 应用程序，头部信息可能会非常大，从而导致网络拥堵和传输延迟。

在 HTTP 2.0 中，使用了头部压缩技术，将头部信息压缩成二进制格式进行传输，从而减少了网络传输的开销。

3. 多路复用

在 HTTP 1.0 和 HTTP 1.1 中，每个请求和响应都需要使用一个 TCP 连接，而一个 TCP 连接只能同时进行一个请求和响应。这样就导致了网络效率的浪费和响应延迟。

在 HTTP 2.0 中，引入了多路复用技术，可以使用一个 TCP 连接同时进行多个请求和响应。这样可以提高网络效率和响应速度。

4. 流量控制

在 HTTP 1.0 和 HTTP 1.1 中，没有流量控制机制，当网络拥塞时，数据包的丢失率会很高，从而导致传输效率低下。

在 HTTP 2.0 中，支持流量控制机制，可以根据网络状况动态调整传输速率，从而避免网络拥塞和数据包丢失。

总之，HTTP 1.0、HTTP 1.1 和 HTTP 2.0 都有各自的优缺点和适用场景，需要根据具体的应用场景和需求进行选择。

## 9. 说说 HTTP 常见的状态码有哪些，适用场景？

HTTP 状态码是 Web 服务器在处理客户端请求时返回的 3 位数字代码，用于表示请求的处理结果。常见的 HTTP 状态码有以下几种：

1xx：信息性状态码。表示客户端的请求已经被服务器成功接收，需要继续处理。

2xx：成功状态码。表示服务器成功接收、理解并处理了客户端的请求。

- 200 OK：表示请求已成功处理。
- 201 Created：表示请求已经被创建。
- 204 No Content：表示请求已经成功处理，但没有返回任何内容。

3xx：重定向状态码。表示需要客户端进一步操作才能完成请求。

- 301 Moved Permanently：请求的资源已经永久移动到新的 URL 地址。
- 302 Found：请求的资源已经暂时移动到新的 URL 地址。
- 304 Not Modified：表示客户端请求的资源已经存在并且未被修改，可以直接使用缓存。

4xx：客户端错误状态码。表示客户端请求有误或无法被处理。

- 400 Bad Request：请求语法错误或请求参数不正确。
- 401 Unauthorized：需要用户验证。
- 403 Forbidden：服务器拒绝执行请求。
- 404 Not Found：请求的资源不存在。

5xx：服务器错误状态码。表示服务器在处理客户端请求时发生了错误。

- 500 Internal Server Error：服务器内部错误。
- 502 Bad Gateway：服务器充当网关或代理时从上游服务器收到无效响应。
- 503 Service Unavailable：服务器当前无法处理请求，可能是由于超载或维护。

根据不同的状态码，可以判断出请求的处理结果，从而进行后续的操作。不同的状态码适用于不同的场景，需要根据具体的应用需求进行选择。

## 10. 说一下 GET 和 POST 的区别？

GET 和 POST 是 HTTP 协议中两种常见的请求方法。它们的区别如下：

1. GET 请求方法用于请求数据，而 POST 请求方法用于提交数据。一般来说，GET 方法用于获取数据，而 POST 方法用于提交数据。

2. GET 请求方法将请求参数附加在 URL 的末尾，而 POST 请求方法将请求参数放在请求体中。因此，GET 请求方法的请求参数会被浏览器缓存下来，而 POST 请求方法的请求参数则不会。

3. GET 请求方法通常用于查询操作，而 POST 请求方法通常用于更新操作。因为 GET 请求方法的请求参数暴露在 URL 中，容易被攻击者利用。而 POST 请求方法的请求参数则相对安全。

4. GET 请求方法的请求参数有长度限制，一般为 2048 个字符，而 POST 请求方法的请求参数没有长度限制。

5. GET 请求方法的请求是幂等的，也就是说，多次发送相同的 GET 请求，服务器的响应不会改变。而 POST 请求方法的请求不是幂等的，也就是说，多次发送相同的 POST 请求，服务器的响应可能会改变。

综上所述，GET 请求方法用于获取数据，适用于查询操作，而 POST 请求方法用于提交数据，适用于更新操作。需要注意的是，在使用 GET 和 POST 请求方法时，应该遵循 HTTP 协议的规范和安全要求。

## 11. 说说 HTTP 常见的请求头有哪些? 作用？

HTTP 请求头是在 HTTP 请求中发送的一些信息，用于告知服务器客户端的一些信息，包括客户端使用的浏览器、用户代理等等。常见的 HTTP 请求头及其作用如下：

1. User-Agent：指定客户端使用的浏览器或其他应用程序的类型和版本号，以便服务器能够根据不同的浏览器或应用程序返回不同的内容。

2. Accept：指定客户端能够接受的 MIME 类型（即文件类型）和文件压缩格式，以便服务器返回适合客户端的内容。

3. Host：指定服务器的域名和端口号，以便服务器能够正确地处理请求。

4. Cookie：指定客户端的 Cookie，以便服务器能够识别客户端。

5. Authorization：指定客户端使用的身份验证方法和凭证，以便服务器验证客户端的身份。

6. Referer：指定客户端从哪个 URL 发起的请求，以便服务器能够追踪客户端的行为。

7. Content-Type：指定请求体中的数据类型，以便服务器正确解析数据。

8. Content-Length：指定请求体中的数据长度，以便服务器正确接收数据。

9. If-Modified-Since：指定客户端上次请求资源的修改时间，以便服务器判断资源是否被修改过。

10. Connection：指定客户端和服务器之间的连接类型，以便服务器能够正确处理连接。

HTTP 请求头的作用是告诉服务器一些有关客户端的信息，使得服务器能够根据不同的客户端信息返回不同的响应内容。同时，它还能够帮助服务器更好地处理请求，提高 Web 应用程序的性能和安全性。

## 12. 说说地址栏输入 URL 敲下回车后发生了什么？

1. DNS 解析：浏览器首先会对输入的 URL 进行解析，得到其中的域名部分。然后，浏览器会向本地 DNS 服务器发送 DNS 查询请求，查询该域名对应的 IP 地址。如果本地 DNS 服务器中没有该域名对应的缓存记录，则会向更高级别的 DNS 服务器查询，直到找到该域名对应的 IP 地址为止。

2. 建立 TCP 连接：一旦浏览器获取到了目标服务器的 IP 地址，它会尝试与该服务器建立 TCP 连接。这个过程称为“三次握手”，具体地，浏览器会发送一个 SYN 报文给服务器，服务器回复一个 SYN-ACK 报文给浏览器，最后浏览器再回复一个 ACK 报文给服务器，从而建立了连接。

3. 发送 HTTP 请求：一旦建立了 TCP 连接，浏览器就会向服务器发送一个 HTTP 请求报文，报文中包含了请求的方法、URL、协议版本、请求头等信息。

4. 服务器处理请求并返回响应：一旦服务器接收到了浏览器发送的请求，它会根据请求报文中的信息进行处理，并生成一个 HTTP 响应报文，报文中包含了状态码、响应头、响应体等信息。

5. 浏览器解析响应并渲染页面：一旦浏览器接收到了服务器返回的响应，它会对响应报文进行解析，并渲染出页面。具体地，浏览器会解析 HTML、CSS、JavaScript 等内容，并将它们组合起来呈现给用户。

总之，在地址栏中输入 URL 并按下回车后，浏览器会通过 DNS 解析、建立 TCP 连接、发送 HTTP 请求、服务器处理请求并返回响应、浏览器解析响应并渲染页面等一系列步骤，最终将网页展示给用户。

## 13. 说说 TCP 为什么需要三次握手和四次挥手？

TCP 作为一种面向连接的可靠传输协议，需要在建立连接和断开连接的过程中保证数据的可靠性和完整性。因此，TCP 协议需要进行三次握手和四次挥手来确保连接的可靠性。

三次握手的过程如下：

1. 客户端向服务器发送一个 SYN 报文，表示请求建立连接，并随机生成一个初始序列号。
2. 服务器接收到 SYN 报文后，发送一个 SYN-ACK 报文，表示收到请求并同意建立连接，同时也随机生成一个初始序列号。
3. 客户端接收到 SYN-ACK 报文后，再发送一个 ACK 报文，表示确认收到服务器的响应，并将服务器的初始序列号加一作为自己的初始序列号。此时，连接建立成功，双方可以开始传输数据。

三次握手的目的是为了确保双方都具备发送和接收数据的能力，并且可以相互知道对方的初始序列号，从而确保数据的可靠传输。

四次挥手的过程如下：

1. 客户端向服务器发送一个 FIN 报文，表示要关闭连接。
2. 服务器接收到 FIN 报文后，发送一个 ACK 报文，表示收到请求并同意关闭连接。此时，服务器进入 CLOSE_WAIT 状态，等待可能存在的数据传输完成。
3. 服务器数据传输完成后，向客户端发送一个 FIN 报文，表示服务器也要关闭连接。
4. 客户端接收到 FIN 报文后，发送一个 ACK 报文，表示收到请求并同意关闭连接。此时，客户端进入 TIME_WAIT 状态，等待可能存在的数据传输完成。服务器接收到 ACK 报文后，关闭连接。

四次挥手的目的是为了确保双方都能够完整地传输数据并关闭连接。在挥手过程中，双方需要等待对方的响应，从而确保数据的可靠性和完整性。同时，双方需要在关闭连接之前等待一定的时间，以防止后续的数据包在传输过程中出现延迟或丢失，从而确保数据的可靠传输。

## 14. 说说对 WebSocket 的理解？应用场景？

WebSocket 是一种在单个 TCP 连接上进行全双工通信的协议，它允许客户端和服务器之间进行实时的双向数据传输，同时也提供了更加灵活的交互方式和更高效的数据传输方式。相比传统的 HTTP 协议，WebSocket 可以降低网络延迟和带宽占用，同时也更加容易实现推送和即时通信等功能。

在 WebSocket 中，客户端和服务器之间会建立一个长连接，通过该连接可以实时地传输数据，同时也可以进行双向通信。与 HTTP 协议不同，WebSocket 不需要经过多次握手和数据传输的过程，因此可以降低网络延迟和带宽占用。

WebSocket 的应用场景非常广泛，其中包括但不限于以下几个方面：

1. 即时通讯：WebSocket 可以实现即时通讯的功能，如在线聊天、在线游戏等。

2. 实时数据传输：WebSocket 可以实现实时数据传输的功能，如实时股票行情、实时天气等。

3. 推送服务：WebSocket 可以实现推送服务的功能，如新闻推送、广告推送等。

4. 远程协作：WebSocket 可以实现远程协作的功能，如远程控制、远程教育等。

总之，WebSocket 可以广泛应用于需要实时数据传输和双向通信的场景，为客户端和服务器之间的交互带来更高效和更灵活的方式。
