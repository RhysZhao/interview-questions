<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.38">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" href="/imgs/favicon.ico"><title>浏览器原理 | 前端知识点</title><meta name="description" content="前端知识点整理">
    <link rel="modulepreload" href="/interview-questions/assets/app.2b80de43.js"><link rel="modulepreload" href="/interview-questions/assets/browser.html.ab92cdd3.js"><link rel="modulepreload" href="/interview-questions/assets/browser.html.1d61e449.js">
    <link rel="stylesheet" href="/interview-questions/assets/style.23fbbacf.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/interview-questions/" class=""><img class="logo" src="/interview-questions/imgs/logo.svg" alt="前端知识点"><span class="site-name can-hide">前端知识点</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/interview-questions/base/" class="" aria-label="🪛 前端基础"><!--[--><!--]--> 🪛 前端基础 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/interview-questions/senior/" class="router-link-active" aria-label="🪜 前端进阶"><!--[--><!--]--> 🪜 前端进阶 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/interview-questions/skill/" class="" aria-label="🗡️ 学习 / 面试技巧"><!--[--><!--]--> 🗡️ 学习 / 面试技巧 <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/RhysZhao/interview-questions" rel="noopener noreferrer" target="_blank" aria-label="点亮⭐收藏"><!--[--><!--]--> 点亮⭐收藏 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-dark-button" title="toggle dark mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" placeholder="Search" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/interview-questions/base/" class="" aria-label="🪛 前端基础"><!--[--><!--]--> 🪛 前端基础 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/interview-questions/senior/" class="router-link-active" aria-label="🪜 前端进阶"><!--[--><!--]--> 🪜 前端进阶 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/interview-questions/skill/" class="" aria-label="🗡️ 学习 / 面试技巧"><!--[--><!--]--> 🗡️ 学习 / 面试技巧 <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/RhysZhao/interview-questions" rel="noopener noreferrer" target="_blank" aria-label="点亮⭐收藏"><!--[--><!--]--> 点亮⭐收藏 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading active">前端进阶 <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/interview-questions/senior/" class="router-link-active sidebar-item" aria-label="前言"><!--[--><!--]--> 前言 <!--[--><!--]--></a><!----></li><li><a href="/interview-questions/senior/jwt.html" class="sidebar-item" aria-label="Cookie/Session/Token"><!--[--><!--]--> Cookie/Session/Token <!--[--><!--]--></a><!----></li><li><a href="/interview-questions/senior/cors.html" class="sidebar-item" aria-label="跨域"><!--[--><!--]--> 跨域 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/interview-questions/senior/browser.html" class="router-link-active router-link-exact-active router-link-active sidebar-item active" aria-label="浏览器原理"><!--[--><!--]--> 浏览器原理 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/interview-questions/senior/browser.html#浏览器的主要功能" class="router-link-active router-link-exact-active sidebar-item" aria-label="浏览器的主要功能"><!--[--><!--]--> 浏览器的主要功能 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/interview-questions/senior/browser.html#进程与线程" class="router-link-active router-link-exact-active sidebar-item" aria-label="进程与线程"><!--[--><!--]--> 进程与线程 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/interview-questions/senior/browser.html#浏览器是多进程的" class="router-link-active router-link-exact-active sidebar-item" aria-label="浏览器是多进程的"><!--[--><!--]--> 浏览器是多进程的 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/interview-questions/senior/browser.html#多进程的优势" class="router-link-active router-link-exact-active sidebar-item" aria-label="多进程的优势"><!--[--><!--]--> 多进程的优势 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/interview-questions/senior/browser.html#浏览器的主要进程" class="router-link-active router-link-exact-active sidebar-item" aria-label="浏览器的主要进程"><!--[--><!--]--> 浏览器的主要进程 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/interview-questions/senior/browser.html#renderer-进程" class="router-link-active router-link-exact-active sidebar-item" aria-label="Renderer 进程"><!--[--><!--]--> Renderer 进程 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/interview-questions/senior/browser.html#常驻线程" class="router-link-active router-link-exact-active sidebar-item" aria-label="常驻线程"><!--[--><!--]--> 常驻线程 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/interview-questions/senior/browser.html#web-worker" class="router-link-active router-link-exact-active sidebar-item" aria-label="Web Worker"><!--[--><!--]--> Web Worker <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/interview-questions/senior/browser.html#webworker-与-sharedworker" class="router-link-active router-link-exact-active sidebar-item" aria-label="WebWorker 与 SharedWorker"><!--[--><!--]--> WebWorker 与 SharedWorker <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/interview-questions/senior/browser.html#从输入-url-到页面渲染出来经历了什么" class="router-link-active router-link-exact-active sidebar-item" aria-label="从输入 URL 到页面渲染出来经历了什么？"><!--[--><!--]--> 从输入 URL 到页面渲染出来经历了什么？ <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/interview-questions/senior/browser.html#从进程角度来分析" class="router-link-active router-link-exact-active sidebar-item" aria-label="从进程角度来分析"><!--[--><!--]--> 从进程角度来分析 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/interview-questions/senior/browser.html#从细分的角度来讲" class="router-link-active router-link-exact-active sidebar-item" aria-label="从细分的角度来讲"><!--[--><!--]--> 从细分的角度来讲 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/interview-questions/senior/browser.html#一个由来已久的问题" class="router-link-active router-link-exact-active sidebar-item" aria-label="一个由来已久的问题"><!--[--><!--]--> 一个由来已久的问题 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/interview-questions/senior/browser.html#最后" class="router-link-active router-link-exact-active sidebar-item" aria-label="最后"><!--[--><!--]--> 最后 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/interview-questions/senior/browser.html#参考文档" class="router-link-active router-link-exact-active sidebar-item" aria-label="参考文档"><!--[--><!--]--> 参考文档 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/interview-questions/senior/performance.html" class="sidebar-item" aria-label="浏览器性能优化"><!--[--><!--]--> 浏览器性能优化 <!--[--><!--]--></a><!----></li><li><a href="/interview-questions/senior/v8.html" class="sidebar-item" aria-label="v8 引擎"><!--[--><!--]--> v8 引擎 <!--[--><!--]--></a><!----></li><li><a href="/interview-questions/senior/http.html" class="sidebar-item" aria-label="HTTP"><!--[--><!--]--> HTTP <!--[--><!--]--></a><!----></li><li><a href="/interview-questions/senior/security.html" class="sidebar-item" aria-label="浏览器安全"><!--[--><!--]--> 浏览器安全 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h1 id="浏览器原理" tabindex="-1"><a class="header-anchor" href="#浏览器原理" aria-hidden="true">#</a> 浏览器原理</h1><h2 id="浏览器的主要功能" tabindex="-1"><a class="header-anchor" href="#浏览器的主要功能" aria-hidden="true">#</a> 浏览器的主要功能</h2><p>浏览器的主要功能就是<strong>发出请求，并在浏览器窗口展示你选择的网络资源</strong>。这里的网络资源一般是指 HTML 文档，也可以是 PDF、图片或者其他类型。</p><h2 id="进程与线程" tabindex="-1"><a class="header-anchor" href="#进程与线程" aria-hidden="true">#</a> 进程与线程</h2><p>进程：运行的程序实例。<strong>CPU 资源分配的最小单位。系统会分配独立的一块内存。</strong></p><p>线程：<strong>CPU 调度的最小单位</strong>。不会分配独立的内存。</p><p>可以这样理解：</p><p>进程好比是工厂。不同工厂之间是独立的。也就是说<strong>各个进程间是独立的</strong>。</p><p>线程好比是工人。<strong>一个进程可以有一个或多个线程。同一进程下的多个线程共享内存</strong>。</p><h2 id="浏览器是多进程的" tabindex="-1"><a class="header-anchor" href="#浏览器是多进程的" aria-hidden="true">#</a> 浏览器是多进程的</h2><h3 id="多进程的优势" tabindex="-1"><a class="header-anchor" href="#多进程的优势" aria-hidden="true">#</a> 多进程的优势</h3><p>浏览器是多进程的。这是出于以下两个方面的考虑：</p><ol><li><p><strong>性能</strong></p><p>多进程能够充分发挥多核 CPU 的优势。</p></li><li><p><strong>安全性、稳定性</strong></p><p><strong>每个 Tab 页、插件都会开启一个独立的进程</strong>。这样做可以：</p><ul><li>避免单个 Tab 页的崩溃影响整个浏览器。</li><li>避免插件恶意代码或崩溃影响整个浏览器。</li></ul></li></ol><h3 id="浏览器的主要进程" tabindex="-1"><a class="header-anchor" href="#浏览器的主要进程" aria-hidden="true">#</a> 浏览器的主要进程</h3><p><strong>1. Browser 进程</strong></p><p>浏览器进程。负责浏览器的主题部分展示及交互，以及协调其他进程之间的通信。</p><p><strong>2. Network 进程</strong></p><p>网络进程。负责页面的网络资源加载, 包括 HTML/CSS/JS 等。</p><p><strong>3. GPU 进程</strong></p><p>图像渲染进程。负责图形渲染、硬件加速、视频解码等工作。</p><p>GPU 的使用初衷是为了实现 CSS 3D 的效果。 后来网页、Chrome 的 UI 界面都选择采用 GPU 来绘制，这使得 GPU 成为浏览器普遍的需求。最后， Chrome 在其多进程架构上也引入了 GPU 进程。</p><p><strong>4. Plugins 进程</strong></p><p>每种类型的插件对应一个进程，使用该插件时创建。</p><p><strong>5. Renderer 进程</strong></p><p>浏览器渲染进程。每个 Tab 页都会在独立的渲染进程中运行，互不影响。主要工作有页面渲染，脚本执行，事件处理等。</p><p>除了这 5 个主要进程，在资源充足的情况下可能还会有 storage 进程、UI 进程、存储进程、设备进程、Audio 进程、Video 进程、Profile 进程等其他进程。</p><p>但对于前端开发来说，我们比较关心的是 Renderer(渲染)进程。</p><h2 id="renderer-进程" tabindex="-1"><a class="header-anchor" href="#renderer-进程" aria-hidden="true">#</a> Renderer 进程</h2><h3 id="常驻线程" tabindex="-1"><a class="header-anchor" href="#常驻线程" aria-hidden="true">#</a> 常驻线程</h3><p>浏览器渲染进程是<strong>多线程</strong>的。一些常驻线程有：</p><p><strong>1. 主线程</strong></p><p>也称为渲染线程或 UI 线程。负责渲染浏览器界面。包括解析 HTML, CSS, 构建 DOM 树和 RenderObject 树，布局和绘制等。当页面需要重绘和回流时，该线程就会执行。</p><p><strong>2. JS 引擎线程</strong></p><p>负责运行 JS 脚本。一个 Tab 页中只有一个 JS 引擎线程。</p><p><strong>GUI 线程与 JS 线程互斥</strong>。也就是说 JavaScript 执行与页面渲染不能同时执行。</p><p>之所以设计成二者互斥是因为 JS 可以操作 DOM，如果在修改元素的同时渲染页面，渲染线程前后获取的元素可能不一致。</p><p><strong>3. 事件触发线程</strong></p><p>当 JS 引擎执行代码块如 setTimeOut 时（也可来自浏览器内核的其他线程, 如鼠标点击、AJAX 异步请求等），会将对应任务添加到事件线程中。</p><p>当对应的事件符合触发条件被触发时，该线程会把事件添加到待处理队列的队尾，等待 JS 引擎的处理</p><p><strong>4. 定时器线程</strong></p><p>setInterval 与 setTimeout 所在线程。</p><p>浏览器定时计数器并不是由 JavaScript 引擎计数的。这是由于 JavaScript 引擎是单线程的, 如果处于阻塞线程状态就会影响记计时的准确性。</p><p>因此通过单独线程来计时并触发定时。计时完毕后，添加到事件队列中，等待 JS 引擎空闲后执行。</p><p><strong>5. 异步 HTTP 请求线程</strong></p><p>在 XMLHttpRequest 在连接后是通过浏览器新开一个线程请求</p><p>当检测到状态变更时，如果设置有回调函数，异步线程就产生状态变更事件，将这个回调再放入事件队列中。再由 JavaScript 引擎执行。</p><p><strong>6. 合成线程（Compositor Thread）</strong></p><p>这个线程负责将渲染好的页面内容合成为最终的图像。它会将不同的图层进行合成，实现动画效果和页面滚动。</p><h3 id="web-worker" tabindex="-1"><a class="header-anchor" href="#web-worker" aria-hidden="true">#</a> Web Worker</h3><p>对于密集型计算可以使用 Web Worker。</p><p>创建 Worker 时，Renderer 进程会单独开一个线程，也就是 worker 线程。</p><p>JS 引擎线程与 worker 线程间通过 <code>postMessage API</code> 通信。</p><p>所以，如果有非常耗时的工作，请单独开一个 Worker 线程，这样里面不管如何翻天覆地都不会影响 JS 引擎主线程， 只待计算出结果后，将结果通信给主线程即可。</p><p>而且注意下，JS 引擎是单线程的，这一点的本质仍然未改变，Worker 可以理解是浏览器给 JS 引擎开的外挂，专门用来解决那些大量计算问题。</p><h3 id="webworker-与-sharedworker" tabindex="-1"><a class="header-anchor" href="#webworker-与-sharedworker" aria-hidden="true">#</a> WebWorker 与 SharedWorker</h3><p>WebWorker 只属于某个 Tab 页面，不会和其他页面的 Render 进程共享。</p><p>SharedWorker 是浏览器所有 Tab 页面共享的(共享型 Worker)，可以为多个 Render 进程共享使用。</p><p>SharedWorker 由独立的进程管理，WebWorker 只是属于 Render 进程下的一个线程。</p><h2 id="从输入-url-到页面渲染出来经历了什么" tabindex="-1"><a class="header-anchor" href="#从输入-url-到页面渲染出来经历了什么" aria-hidden="true">#</a> 从输入 URL 到页面渲染出来经历了什么？</h2><h3 id="从进程角度来分析" tabindex="-1"><a class="header-anchor" href="#从进程角度来分析" aria-hidden="true">#</a> 从进程角度来分析</h3><ol><li>用户输入 url 地址(如果是关键字，则根据默认引擎生成一个 url),会开始导航。这部分工作在 Browser 进程中做。</li><li>Network 进程请求资源，获取当前 url 下的 HTML</li><li>Renderer 进程解析 HTML 内容，遇到需要请求的资源交由 Network 进程处理</li><li>Renderer 进程通过解析、计算得到图像帧，并交给 GPU 进程</li><li>GPU 进程将图像帧渲染到屏幕上</li></ol><h3 id="从细分的角度来讲" tabindex="-1"><a class="header-anchor" href="#从细分的角度来讲" aria-hidden="true">#</a> 从细分的角度来讲</h3><h4 id="_1-渲染前的工作" tabindex="-1"><a class="header-anchor" href="#_1-渲染前的工作" aria-hidden="true">#</a> 1. 渲染前的工作</h4><ol><li>当我们输入一个 URL 的时候，浏览器会先去查找缓存。如果有缓存，则直接返回缓存内容。</li><li>如果没有缓存或者缓存已经过期，则进行域名解析(域名 =&gt; IP)。</li><li>如果是 HTTPS, 则进行 SSL 协商</li><li>IP 地址进行寻址，排队等待。同一域名下最多能发送 6 个 http 请求</li><li>TCP 创建连接，三次握手</li><li>利用 tcp 传输数据。拆分成数据包，有序传输，可靠传输(丢包重传)。服务器收到后，按照序号重排数据包。</li><li>http 请求 默认不会断开(keep-alive)。这样下次传输数据时，可以复用上次创建的连接。</li><li>http 响应 响应码 301/302 会重定向, 304 协商缓存</li></ol><h4 id="_2-渲染相关工作" tabindex="-1"><a class="header-anchor" href="#_2-渲染相关工作" aria-hidden="true">#</a> 2. 渲染相关工作</h4><p><img src="/interview-questions/assets/render-flow.5ca374e0.png" alt=""></p><ol><li><p>浏览器无法直接使用 HTML，需要将 HTML 转化成 DOM 树。（document）</p></li><li><p>浏览器无法解析纯文本的 CSS 样式，需要对 CSS 进行解析,解析成 CSSOM（document.styleSeets）</p></li><li><p>计算出 DOM 树中每个节点的具体样式（Attachment）</p></li><li><p>创建渲染（布局）树，将 DOM 树中可见节点，添加到布局树中。并计算节点渲染到页面的坐标位置。（layout）</p></li><li><p>通过布局树，进行分层 （根据定位属性、透明属性、transform 属性、clip 属性等）生产图层树</p></li><li><p>将不同图层进行绘制，转交给 合成线程 处理。最终生产页面，并显示到浏览器上 (Painting, Display)</p></li></ol><h3 id="一个由来已久的问题" tabindex="-1"><a class="header-anchor" href="#一个由来已久的问题" aria-hidden="true">#</a> 一个由来已久的问题</h3><p><strong>为什么在 HTML 中， CSS 要放在顶端，JS 要放在下面?</strong></p><p>将 CSS 放在顶端，而将 JavaScript 放在底部是出于页面加载性能的考虑。具体来说：</p><ul><li><p>当浏览器解析 HTML 文档时，会逐行解析并构建 DOM 树，遇到 CSS 样式表会进行下载和解析，如果 CSS 放在顶端，浏览器能够尽早获取并解析 CSS 样式，从而更快地开始渲染页面内容，避免出现未样式化的页面闪烁。</p></li><li><p>当解析 HTML 中遇到 JavaScript 脚本时，它会立即执行脚本，这会阻塞页面的渲染和交互响应。</p></li></ul><p>可以参考下图：</p><p><img src="/interview-questions/assets/html-dom.f3b3f389.jpg" alt=""></p><p>当然也可以在 script 脚本中设置 defer 或 async ，来避免阻塞 html 解析。</p><ul><li><p>普通 script: 无论是 JS 加载还是执行，都会阻塞 HTML 解析</p></li><li><p>defer: 无论 JS 加载还是执行，都不会阻塞 HTML 解析</p></li><li><p>async: JS 加载不会阻塞 HTML 解析，JS 执行会阻塞</p></li></ul><p>可以参考下图：</p><p><img src="/interview-questions/assets/defer.272f3128.webp" alt=""></p><h2 id="最后" tabindex="-1"><a class="header-anchor" href="#最后" aria-hidden="true">#</a> 最后</h2><p>由于 Chrome 浏览器一直在更新，部分内容可能涉及时效性的问题。不过，对于前端开发来说，通过本文来了解浏览器的主要工作原理，还是 OK 的。</p><h2 id="参考文档" tabindex="-1"><a class="header-anchor" href="#参考文档" aria-hidden="true">#</a> 参考文档</h2><p><a href="https://juejin.cn/post/7171419987603619848" target="_blank" rel="noopener noreferrer">浏览器原理——看完这篇可以尝试和面试官扯皮了<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p><a href="https://juejin.cn/post/6844903553795014663" target="_blank" rel="noopener noreferrer">从浏览器多进程到 JS 单线程，JS 运行机制最全面的一次梳理<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p><a href="https://www.bilibili.com/video/BV1yy4y1i7o1/?p=1&amp;vd_source=41e6d1d28e504860272fd13300cb250c" target="_blank" rel="noopener noreferrer">浏览器渲染原理与性能优化<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="external-link meta-item-label" href="https://github.com/RhysZhao/interview-questions/edit/main/docs/senior/browser.md" rel="noopener noreferrer" target="_blank" aria-label="为该章节纠错"><!--[--><!--]--> 为该章节纠错 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: rhys.zhao@cloudwise.com">rhys.zhao</span><!----><!--]--><!--]--></span></div></footer><nav class="page-nav"><p class="inner"><span class="prev"><a href="/interview-questions/senior/cors.html" class="" aria-label="跨域"><!--[--><!--]--> 跨域 <!--[--><!--]--></a></span><span class="next"><a href="/interview-questions/senior/performance.html" class="" aria-label="浏览器性能优化"><!--[--><!--]--> 浏览器性能优化 <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/interview-questions/assets/app.2b80de43.js" defer></script>
  </body>
</html>
